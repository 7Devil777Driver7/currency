{% extends 'base.html' %}

{% block title %}Rates{% endblock title %}

{% block content %}
<div class='container-fluid'>
<button type="button" class="btn btn-secondary btn-lg btn-block bg-dark col-12"><a class="text-light" href="{% url 'currency:rate-create' %}">Create Rate
</a></button>
<div  scope="col-sm-12">
<table class="table table-bordered table-striped">
  <tr>
    <th>ID</th>
    <th>Buy</th>
    <th>Sale</th>
    <th>Created</th>
    <th>Currency</th>
    <th>Source</th>
    <th colspan='3'>Actions</th>
  </tr>
  
  {% for rate in rate_list %}
  <tr>
    <td scope="row">{{ rate.id }}</td>
    <td scope="row">{{ rate.buy }}</td>
    <td scope="row">{{ rate.sale }}</td>
    <td scope="row">{{ rate.created }}</td>
    <td scope="row">{{ rate.get_cur_type_display }}</td>
    <td><img src="{{ rate.source.source_logo}}" alt="source logo" width="50" height="50"/></td>
    <td scope="row">{{ rate.source.name }}</td>
    <td>
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Actions
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <a class="dropdown-item" href="{% url 'currency:rate-update' rate.pk %}">Edit</a>
          <a class="dropdown-item" href="{% url 'currency:rate-delete' rate.pk %}">Delete</a>
          {% if user.is_authenticated %}
            <a class="dropdown-item" href="{% url 'currency:rate-details' rate.pk %}">Details</a>
          {% endif %}
        </div>
      </td>
    </tr>
    {% endfor %}
</table>
</div>
</div>
</div>
{% endblock content %}